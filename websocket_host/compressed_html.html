<!DOCTYPE html><html><head><meta name=viewport content="width=device-width, initial-scale=1"><style>.container1{width:100%;height:50vh;background:#fff;top:0;left:200px}.slider{-webkit-appearance:slider-vertical;height:100%;width:15px}html{overflow:auto}</style></head><body><p align=center><button onclick=centerAll() align=center>LIGHT</button></p><br><table style=width:100%;table-layout:fixed border=0px align=center><tr><tr><td></td><td><div class=container1><input type=range min=1 max=100 value=50 class=slider id=leftSlider><p><span id=leftValue></span></p></div></td><td><div class=container1><input type=range min=1 max=100 value=50 class=slider id=centerSlider></div></td><td><div class=container1><input type=range min=1 max=100 value=50 class=slider id=rightSlider><p><span id=rightValue></span></p></div></td></tr></table><br><p align=center><button onclick=centerAll() align=center>STOP</button></p><script>var url="ws://192.168.4.1:1337/";var output;var button;var canvas;var context;function init(){button=document.getElementById("toggleButton");output=document.getElementById("output");canvas=document.getElementById("led");context=canvas.getContext("2d");context.arc(25,25,15,0,Math.PI*2,false);context.lineWidth=3;context.strokeStyle="black";context.stroke();context.fillStyle="black";context.fill();wsConnect(url)}function wsConnect(a){websocket=new WebSocket(a);websocket.onopen=function(b){onOpen(b)};websocket.onclose=function(b){onClose(b)};websocket.onmessage=function(b){onMessage(b)};websocket.onerror=function(b){onError(b)}}function onOpen(a){console.log("Connected");button.disabled=false;doSend("getLEDState")}function onClose(a){console.log("Disconnected");button.disabled=true;setTimeout(function(){wsConnect(url)},2000)}function onMessage(a){console.log("Received: "+a.data);switch(a.data){case"0":console.log("LED is off");context.fillStyle="black";context.fill();break;case"1":console.log("LED is on");context.fillStyle="red";context.fill();break;default:break}}function onError(a){console.log("ERROR: "+a.data)}function doSend(a){console.log("Sending: "+a);websocket.send(a)}function doSend(a,b){doSend(a+","+b)}function onPress(){doSend("toggleLED");doSend("getLEDState")}window.addEventListener("load",init,false);var sliderLeft=document.getElementById("leftSlider");var outputLeft=document.getElementById("leftValue");outputLeft.innerHTML=sliderLeft.value;var sliderRight=document.getElementById("rightSlider");var outputRight=document.getElementById("rightValue");outputRight.innerHTML=sliderRight.value;var sliderCenter=document.getElementById("centerSlider");sliderRight.oninput=function(){outputRight.innerHTML=this.value;doSend("setLeftMotor",this.value)};sliderLeft.oninput=function(){outputLeft.innerHTML=this.value;doSend("setRightMotor",this.value)};sliderCenter.oninput=function(){outputRight.innerHTML=this.value;outputLeft.innerHTML=this.value;sliderLeft.value=this.value;sliderRight.value=this.value};centerAll=function(){outputRight.innerHTML=50;outputLeft.innerHTML=50;sliderLeft.value=50;sliderRight.value=50;sliderCenter.value=50};</script></body></html>